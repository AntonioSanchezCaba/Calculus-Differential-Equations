// Comprehensive translation system
export const translations = {
  en: {
    // Header
    "header.title": "Calculus Master",
    "header.algebra": "Algebra",
    "header.limits": "Limits",
    "header.derivatives": "Derivatives",
    "header.integrals": "Integrals",
    "header.differential-equations": "Differential Equations",
    "header.roadmap": "Roadmap",

    // Hero Section
    "hero.title": "Master Calculus & Differential Equations",
    "hero.subtitle": "From basic algebra fundamentals to advanced differential equations — your complete, interactive guide to understanding mathematical concepts with clear explanations and visual examples.",
    "hero.start": "Start Learning",
    "hero.roadmap": "View Roadmap",
    "hero.stats.formulas": "Formulas",
    "hero.stats.examples": "Examples",
    "hero.stats.topics": "Key Topics",
    "hero.stats.applications": "Applications",
    "hero.stats.possibilities": "Possibilities",

    // Sections
    "section.algebra.title": "Foundational Algebra",
    "section.algebra.subtitle": "Mastering algebra is essential before diving into calculus. These fundamental concepts form the backbone of all higher mathematics. Review these topics carefully before moving on to more advanced concepts.",
    "section.limits.title": "Limits & Continuity",
    "section.limits.subtitle": "Understand the fundamental concept that bridges algebra and calculus. Limits describe the behavior of functions as they approach specific values.",
    "section.derivatives.title": "Derivatives",
    "section.derivatives.subtitle": "Master the art of finding rates of change. Derivatives are the foundation of differential calculus and have countless applications in science, engineering, and economics.",
    "section.integrals.title": "Integral Calculus",
    "section.integrals.subtitle": "Discover the reverse of differentiation. Integration allows us to find areas, volumes, and accumulate quantities over intervals.",
    "section.differential-equations.title": "Differential Equations",
    "section.differential-equations.subtitle": "Explore equations involving derivatives and their solutions. Differential equations model dynamic systems in physics, engineering, biology, and economics.",
    "section.roadmap.title": "Your Calculus Learning Roadmap",
    "section.roadmap.subtitle": "Follow this structured path to build a strong foundation and systematically advance through calculus and differential equations.",

    // Roadmap Steps
    "roadmap.step1.title": "Master Algebraic Foundations",
    "roadmap.step1.description": "Build a solid foundation with essential algebra skills",
    "roadmap.step2.title": "Understand Limits & Continuity",
    "roadmap.step2.description": "Grasp the fundamental concepts that bridge algebra and calculus",
    "roadmap.step3.title": "Master Differential Calculus",
    "roadmap.step3.description": "Learn to find rates of change and slopes of curves",
    "roadmap.step4.title": "Explore Integral Calculus",
    "roadmap.step4.description": "Discover the reverse of differentiation and its applications",
    "roadmap.step5.title": "Dive into Differential Equations",
    "roadmap.step5.description": "Model dynamic systems with differential equations",
    "roadmap.step6.title": "Advanced Topics & Applications",
    "roadmap.step6.description": "Explore specialized topics and real-world applications",

    // Common UI
    "ui.language": "Español",
    "ui.foundation": "Foundation",
    "ui.core-concept": "Core Concept",
    "ui.differential-calculus": "Differential Calculus",
    "ui.integral-calculus": "Integral Calculus",
    "ui.advanced-topic": "Advanced Topic",
    "ui.learning-path": "Learning Path",
    "ui.beginner": "Beginner",
    "ui.intermediate": "Intermediate",
    "ui.advanced": "Advanced",
    "ui.ongoing": "Ongoing",

    // Footer
    "footer.description": "Your complete guide to mastering calculus and differential equations with interactive learning.",
    "footer.topics": "Topics",
    "footer.advanced": "Advanced",
    "footer.connect": "Connect",
    "footer.copyright": "© 2025 Calculus Master. Built with Next.js and Tailwind CSS."
  },

  es: {
    // Header
    "header.title": "Maestro del Cálculo",
    "header.algebra": "Álgebra",
    "header.limits": "Límites",
    "header.derivatives": "Derivadas",
    "header.integrals": "Integrales",
    "header.differential-equations": "Ecuaciones Diferenciales",
    "header.roadmap": "Mapa de Ruta",

    // Hero Section
    "hero.title": "Domina el Cálculo y Ecuaciones Diferenciales",
    "hero.subtitle": "Desde fundamentos básicos de álgebra hasta ecuaciones diferenciales avanzadas — tu guía completa e interactiva para entender conceptos matemáticos con explicaciones claras y ejemplos visuales.",
    "hero.start": "Comenzar a Aprender",
    "hero.roadmap": "Ver Mapa de Ruta",
    "hero.stats.formulas": "Fórmulas",
    "hero.stats.examples": "Ejemplos",
    "hero.stats.topics": "Temas Clave",
    "hero.stats.applications": "Aplicaciones",
    "hero.stats.possibilities": "Posibilidades",

    // Sections
    "section.algebra.title": "Álgebra Fundamental",
    "section.algebra.subtitle": "Dominar el álgebra es esencial antes de sumergirse en el cálculo. Estos conceptos fundamentales forman la columna vertebral de toda la matemática avanzada. Revisa estos temas cuidadosamente antes de pasar a conceptos más avanzados.",
    "section.limits.title": "Límites y Continuidad",
    "section.limits.subtitle": "Comprende el concepto fundamental que conecta el álgebra y el cálculo. Los límites describen el comportamiento de las funciones cuando se acercan a valores específicos.",
    "section.derivatives.title": "Derivadas",
    "section.derivatives.subtitle": "Domina el arte de encontrar tasas de cambio. Las derivadas son la base del cálculo diferencial y tienen innumerables aplicaciones en ciencia, ingeniería y economía.",
    "section.integrals.title": "Cálculo Integral",
    "section.integrals.subtitle": "Descubre el reverso de la diferenciación. La integración nos permite encontrar áreas, volúmenes y acumular cantidades en intervalos.",
    "section.differential-equations.title": "Ecuaciones Diferenciales",
    "section.differential-equations.subtitle": "Explora ecuaciones que involucran derivadas y sus soluciones. Las ecuaciones diferenciales modelan sistemas dinámicos en física, ingeniería, biología y economía.",
    "section.roadmap.title": "Tu Mapa de Ruta de Aprendizaje de Cálculo",
    "section.roadmap.subtitle": "Sigue este camino estructurado para construir una base sólida y avanzar sistemáticamente a través del cálculo y las ecuaciones diferenciales.",

    // Roadmap Steps
    "roadmap.step1.title": "Domina los Fundamentos Algebraicos",
    "roadmap.step1.description": "Construye una base sólida con habilidades esenciales de álgebra",
    "roadmap.step2.title": "Comprende Límites y Continuidad",
    "roadmap.step2.description": "Comprende los conceptos fundamentales que conectan el álgebra y el cálculo",
    "roadmap.step3.title": "Domina el Cálculo Diferencial",
    "roadmap.step3.description": "Aprende a encontrar tasas de cambio y pendientes de curvas",
    "roadmap.step4.title": "Explora el Cálculo Integral",
    "roadmap.step4.description": "Descubre el reverso de la diferenciación y sus aplicaciones",
    "roadmap.step5.title": "Sumérgete en Ecuaciones Diferenciales",
    "roadmap.step5.description": "Modela sistemas dinámicos con ecuaciones diferenciales",
    "roadmap.step6.title": "Temas Avanzados y Aplicaciones",
    "roadmap.step6.description": "Explora temas especializados y aplicaciones del mundo real",

    // Common UI
    "ui.language": "English",
    "ui.foundation": "Fundamento",
    "ui.core-concept": "Concepto Central",
    "ui.differential-calculus": "Cálculo Diferencial",
    "ui.integral-calculus": "Cálculo Integral",
    "ui.advanced-topic": "Tema Avanzado",
    "ui.learning-path": "Ruta de Aprendizaje",
    "ui.beginner": "Principiante",
    "ui.intermediate": "Intermedio",
    "ui.advanced": "Avanzado",
    "ui.ongoing": "Continuo",

    // Footer
    "footer.description": "Tu guía completa para dominar el cálculo y las ecuaciones diferenciales con aprendizaje interactivo.",
    "footer.topics": "Temas",
    "footer.advanced": "Avanzado",
    "footer.connect": "Conectar",
    "footer.copyright": "© 2025 Maestro del Cálculo. Construido con Next.js y Tailwind CSS."
  }
};

export type Language = 'en' | 'es';

// Language context
let currentLanguage: Language = 'en';

// Initialize language from localStorage if available
if (typeof window !== 'undefined') {
  try {
    const savedLanguage = localStorage.getItem('language') as Language;
    if (savedLanguage && (savedLanguage === 'en' || savedLanguage === 'es')) {
      currentLanguage = savedLanguage;
    }
  } catch (error) {
    console.warn('Failed to access localStorage:', error);
  }
}

// Get translation function
export function t(key: string): string {
  const langTranslations = translations[currentLanguage] || translations.en;
  return langTranslations[key as keyof typeof langTranslations] || key;
}

// Get current language
export function getCurrentLanguage(): Language {
  return currentLanguage;
}

// Set language function
export function setLanguage(language: Language): void {
  currentLanguage = language;
  
  if (typeof window !== 'undefined') {
    try {
      localStorage.setItem('language', language);
      document.documentElement.setAttribute('lang', language);
    } catch (error) {
      console.warn('Failed to save language to localStorage:', error);
    }
  }
}

// Toggle language function
export function toggleLanguage(): void {
  const newLanguage: Language = currentLanguage === 'en' ? 'es' : 'en';
  setLanguage(newLanguage);
  
  // Trigger a page reload to update all translations
  if (typeof window !== 'undefined') {
    window.location.reload();
  }
}